(()=>{"use strict";var n={208:(n,e,t)=>{t.d(e,{A:()=>c});var r=t(354),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([n.id,"html {\n  background-color: gray;\n}\n\nh1 {\n  text-align: center;\n  margin: 0;\n  padding: 0;\n}\n\n.header {\n  display: flex;\n  justify-content: center;\n  margin-left: auto;\n  margin-right: auto;\n  width: 1000px;\n  border: black solid;\n  gap: 500px;\n}\n.container {\n  display: flex;\n  justify-content: center;\n  gap: 50px;\n}\n\n.player-gameboard {\n  display: grid;\n  grid-template-columns: repeat(10, 50px);\n}\n.box {\n  border-top: black solid;\n  border-left: black solid;\n  width: 50px;\n  height: 50px;\n}\n\n.box:nth-child(10n) {\n  border-right: black solid;\n}\n\n.box:nth-child(n + 91) {\n  border-bottom: black solid;\n}\n\n.player.box.ship {\n  background-color: green;\n}\n\n.computer-gameboard {\n  display: grid;\n  grid-template-columns: repeat(10, 50px);\n}\n\n.hit,\n.player.box.ship.hit {\n  background-color: red;\n}\n\n.miss {\n  background-color: blue;\n}\n\n.chatlog-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.chatlog {\n  display: flex;\n  flex-grow: 0;\n  height: 200px;\n  min-width: 200px;\n  margin-top: 0px;\n  border: solid black;\n  overflow: hidden;\n}\n","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;EACE,sBAAsB;AACxB;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,UAAU;AACZ;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,iBAAiB;EACjB,kBAAkB;EAClB,aAAa;EACb,mBAAmB;EACnB,UAAU;AACZ;AACA;EACE,aAAa;EACb,uBAAuB;EACvB,SAAS;AACX;;AAEA;EACE,aAAa;EACb,uCAAuC;AACzC;AACA;EACE,uBAAuB;EACvB,wBAAwB;EACxB,WAAW;EACX,YAAY;AACd;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,0BAA0B;AAC5B;;AAEA;EACE,uBAAuB;AACzB;;AAEA;EACE,aAAa;EACb,uCAAuC;AACzC;;AAEA;;EAEE,qBAAqB;AACvB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;AACrB;AACA;EACE,aAAa;EACb,YAAY;EACZ,aAAa;EACb,gBAAgB;EAChB,eAAe;EACf,mBAAmB;EACnB,gBAAgB;AAClB",sourcesContent:["html {\n  background-color: gray;\n}\n\nh1 {\n  text-align: center;\n  margin: 0;\n  padding: 0;\n}\n\n.header {\n  display: flex;\n  justify-content: center;\n  margin-left: auto;\n  margin-right: auto;\n  width: 1000px;\n  border: black solid;\n  gap: 500px;\n}\n.container {\n  display: flex;\n  justify-content: center;\n  gap: 50px;\n}\n\n.player-gameboard {\n  display: grid;\n  grid-template-columns: repeat(10, 50px);\n}\n.box {\n  border-top: black solid;\n  border-left: black solid;\n  width: 50px;\n  height: 50px;\n}\n\n.box:nth-child(10n) {\n  border-right: black solid;\n}\n\n.box:nth-child(n + 91) {\n  border-bottom: black solid;\n}\n\n.player.box.ship {\n  background-color: green;\n}\n\n.computer-gameboard {\n  display: grid;\n  grid-template-columns: repeat(10, 50px);\n}\n\n.hit,\n.player.box.ship.hit {\n  background-color: red;\n}\n\n.miss {\n  background-color: blue;\n}\n\n.chatlog-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.chatlog {\n  display: flex;\n  flex-grow: 0;\n  height: 200px;\n  min-width: 200px;\n  margin-top: 0px;\n  border: solid black;\n  overflow: hidden;\n}\n"],sourceRoot:""}]);const c=i},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,o,a){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var l=0;l<n.length;l++){var u=[].concat(n[l]);r&&i[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),t&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=t):u[2]=t),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),e.push(u))}},e}},354:n=>{n.exports=function(n){var e=n[1],t=n[3];if(!t)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(o," */");return[e].concat([a]).join("\n")}return[e].join("\n")}},72:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var a={},i=[],c=0;c<n.length;c++){var s=n[c],l=r.base?s[0]+r.base:s[0],u=a[l]||0,d="".concat(l," ").concat(u);a[l]=u+1;var A=t(d),p={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==A)e[A].references++,e[A].updater(p);else{var h=o(p,r);r.byIndex=c,e.splice(c,0,{identifier:d,updater:h,references:1})}i.push(d)}return i}function o(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,o){var a=r(n=n||[],o=o||{});return function(n){n=n||[];for(var i=0;i<a.length;i++){var c=t(a[i]);e[c].references--}for(var s=r(n,o),l=0;l<a.length;l++){var u=t(a[l]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}a=s}}},659:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},e={};function t(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={id:r,exports:{}};return n[r](a,a.exports,t),a.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0;var r={};(()=>{t.d(r,{PL:()=>N,Ro:()=>R,iV:()=>z,ql:()=>I,Ni:()=>H,rI:()=>U,ug:()=>P});let n,e=[];function o(){const n=Math.floor(Math.random()*e.length),t=e[n];e.splice(n,1),z().gameboard.receiveAttack(t[0],t[1])}function a(n){if("computer"!=n.name){const e=document.querySelector(".player-gameboard");n.gameboard.grid.forEach(((n,t)=>{n.forEach(((n,r)=>{const o=document.createElement("div");0==n&&o.classList.add("player","box","zero"),0!=n&&o.classList.add("player","box","ship"),o.id=`player-${t}-${r}`,e.append(o)}))}))}else{const t=document.querySelector(".computer-gameboard");n.gameboard.grid.forEach(((n,r)=>{n.forEach(((n,o)=>{const a=document.createElement("div");var c,s;0==n&&a.classList.add("computer","box","zero"),0!=n&&a.classList.add("computer","box","ship"),a.id=`computer-${r}-${o}`,c=r,s=o,e.push([c,s]),a.addEventListener("click",i),t.append(a)}))}))}}function i(n){"player"==N().name&&(function(n){const e=n.target.id.substring(n.target.id.indexOf("-")+1),t=e[0],r=e[2];R().gameboard.receiveAttack(t,r)}(n),n.target.removeEventListener("click",i))}function c(n,e="ship"){const t=N(),r=(new Date).toLocaleTimeString(),o=document.querySelector(".chat-log-message");o.innerText=`${r}: ${t.name} ${n} enemy ${e}!\n`+o.innerText}class s{constructor(n,e){this.name=n,this.grid=e}getGrid(){return this.grid}setGrid(n,e){n.forEach((n=>{const t=n[0],r=n[1];this.grid[t][r]=e}))}receiveAttack(n,e){if(0!=this.grid[n][e]){document.getElementById(`${this.name}-${n}-${e}`).classList.add("hit"),c("hit",this.grid[n][e]);const t=R().ships.findIndex((t=>t.name===this.grid[n][e]));R().ships[t].removeHitLocation([+n,+e]),"computer"==N().name&&setTimeout(o,1e3)}else document.getElementById(`${this.name}-${n}-${e}`).classList.add("miss"),c("missed"),U(),"computer"==N().name&&setTimeout(o,1e3)}}function l(e){return n=Array.from(Array(10),(()=>new Array(10).fill(0))),new s(e,n)}const u=10;class d{constructor(n,e,t,r){this.name=n,this.length=e,this.hits=t,this.location=r}getLocation(){return this.location}removeHitLocation(n){const e=this.getLocation();let t;for(let r=0;r<e.length;r++)e[r][0]==n[0]&&e[r][1]==n[1]&&(t=r);e.splice(t,1),this.hit(),this.isSunk()}hit(){this.hits+=1}isSunk(){this.hits==this.length&&(R().totalShips-=1,0==R().totalShips&&function(){P(),"computer"==N().name&&H(),function(){const n=document.querySelector(".computer-gameboard");for(const e of n.children)e.removeEventListener("click",i)}();const n=document.querySelector(".status"),e=document.createElement("button"),t=document.createElement("p");e.className="button",e.innerText="Restart Game",e.addEventListener("click",(()=>{I()})),t.append(e),n.append(t)}())}}function A(n){let e=[];return e.push(p("Carrier",5,n)),e.push(p("Battleship",4,n)),e.push(p("Destroyer",3,n)),e.push(p("Submarine",3,n)),e.push(p("Patrol Boat",2,n)),e}function p(n,e,t){const r=function(n,e,t){const r=[],o={0:[1,0],1:[0,1],2:[-1,0],3:[0,-1]};let a=t.getGrid();for(;;){let i=Math.floor(Math.random()*u),c=Math.floor(Math.random()*u),s=Math.floor(4*Math.random());if(0==a[i][c]){r.push([i,c]);for(let n=1;n<=e-1;n++)if(i+=o[s][0],c+=o[s][1],r.push([i,c]),i<0||c<0||i>9||c>9||0!=a[i][c]){r.length=0;break}if(0!=r.length)return t.setGrid(r,n),r}}}(n,e,t);return new d(n,e,0,r)}class h{constructor(n,e,t,r){this.name=n,this.gameboard=e,this.ships=t,this.totalShips=r}}function m(n,e,t){return new h(n,e,t,5)}var f=t(72),g=t.n(f),b=t(825),y=t.n(b),E=t(659),v=t.n(E),C=t(56),x=t.n(C),B=t(540),k=t.n(B),S=t(113),L=t.n(S),w=t(208),M={};M.styleTagTransform=L(),M.setAttributes=x(),M.insert=v().bind(null,"head"),M.domAPI=y(),M.insertStyleElement=k(),g()(w.A,M),w.A&&w.A.locals&&w.A.locals;let T=0,$=[];const j=document.querySelector(".status");function q(){const n=l("player"),e=l("computer"),t=A(n),r=A(e),o=m("player",n,t),i=m("computer",e,r);a(o),a(i),$=[o,i],O()}function I(){T=0;const n=document.querySelector(".player-gameboard"),t=document.querySelector(".computer-gameboard");n.innerHTML="",t.innerHTML="",document.querySelector(".chat-log-message").innerHTML="",e.length=0,q()}function U(){T=0==T?1:0,O()}function H(){T=0}function N(){return $[T]}function R(){return 0==T?$[1]:$[0]}function O(){let n=N().name;n=n.charAt(0).toUpperCase()+n.slice(1),j.innerHTML=`${n}'s turn`}function P(){let n=N().name;n=n.charAt(0).toUpperCase()+n.slice(1),console.log(n),j.innerHTML=`${n} Won!`}function z(){return $[0]}document.querySelector(".button").addEventListener("click",(()=>{q()}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QSxTQUFTSyxJQUNQLElBQUlJLEVBQWFuRSxJQUFtQmYsS0FDcENrRixFQUFhQSxFQUFXQyxPQUFPLEdBQUdDLGNBQWdCRixFQUFXRyxNQUFNLEdBQ25FLEVBQU9KLFVBQVksR0FBR0MsVUFDeEIsQ0FFQSxTQUFTNUIsSUFDUCxJQUFJNEIsRUFBYW5FLElBQW1CZixLQUNwQ2tGLEVBQWFBLEVBQVdDLE9BQU8sR0FBR0MsY0FBZ0JGLEVBQVdHLE1BQU0sR0FDbkVDLFFBQVFDLElBQUlMLEdBQ1osRUFBT0QsVUFBWSxHQUFHQyxRQUN4QixDQUVBLFNBQVN2RixJQUNQLE9BQU84RSxFQUFRLEVBQ2pCLENBcEVZdkksU0FBU0MsY0FBYyxXQUMvQjBFLGlCQUFpQixTQUFTLEtBQzVCNkQsR0FBVyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9ub25jZSIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2NvbXB1dGVybG9naWMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9nYW1lYm9hcmQuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9pbnRlcmZhY2UuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zaGlwLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvcGxheWVyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc3R5bGUuY3NzPzcxNjMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBgaHRtbCB7XG4gIGJhY2tncm91bmQtY29sb3I6IGdyYXk7XG59XG5cbmgxIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG59XG5cbi5oZWFkZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbiAgd2lkdGg6IDEwMDBweDtcbiAgYm9yZGVyOiBibGFjayBzb2xpZDtcbiAgZ2FwOiA1MDBweDtcbn1cbi5jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgZ2FwOiA1MHB4O1xufVxuXG4ucGxheWVyLWdhbWVib2FyZCB7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEwLCA1MHB4KTtcbn1cbi5ib3gge1xuICBib3JkZXItdG9wOiBibGFjayBzb2xpZDtcbiAgYm9yZGVyLWxlZnQ6IGJsYWNrIHNvbGlkO1xuICB3aWR0aDogNTBweDtcbiAgaGVpZ2h0OiA1MHB4O1xufVxuXG4uYm94Om50aC1jaGlsZCgxMG4pIHtcbiAgYm9yZGVyLXJpZ2h0OiBibGFjayBzb2xpZDtcbn1cblxuLmJveDpudGgtY2hpbGQobiArIDkxKSB7XG4gIGJvcmRlci1ib3R0b206IGJsYWNrIHNvbGlkO1xufVxuXG4ucGxheWVyLmJveC5zaGlwIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XG59XG5cbi5jb21wdXRlci1nYW1lYm9hcmQge1xuICBkaXNwbGF5OiBncmlkO1xuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgxMCwgNTBweCk7XG59XG5cbi5oaXQsXG4ucGxheWVyLmJveC5zaGlwLmhpdCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJlZDtcbn1cblxuLm1pc3Mge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBibHVlO1xufVxuXG4uY2hhdGxvZy1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cbi5jaGF0bG9nIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1ncm93OiAwO1xuICBoZWlnaHQ6IDIwMHB4O1xuICBtaW4td2lkdGg6IDIwMHB4O1xuICBtYXJnaW4tdG9wOiAwcHg7XG4gIGJvcmRlcjogc29saWQgYmxhY2s7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5gLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9zdHlsZS5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7RUFDRSxzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsU0FBUztFQUNULFVBQVU7QUFDWjs7QUFFQTtFQUNFLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsaUJBQWlCO0VBQ2pCLGtCQUFrQjtFQUNsQixhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLFVBQVU7QUFDWjtBQUNBO0VBQ0UsYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixTQUFTO0FBQ1g7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsdUNBQXVDO0FBQ3pDO0FBQ0E7RUFDRSx1QkFBdUI7RUFDdkIsd0JBQXdCO0VBQ3hCLFdBQVc7RUFDWCxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSwwQkFBMEI7QUFDNUI7O0FBRUE7RUFDRSx1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsdUNBQXVDO0FBQ3pDOztBQUVBOztFQUVFLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsbUJBQW1CO0FBQ3JCO0FBQ0E7RUFDRSxhQUFhO0VBQ2IsWUFBWTtFQUNaLGFBQWE7RUFDYixnQkFBZ0I7RUFDaEIsZUFBZTtFQUNmLG1CQUFtQjtFQUNuQixnQkFBZ0I7QUFDbEJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiaHRtbCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBncmF5O1xcbn1cXG5cXG5oMSB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwO1xcbn1cXG5cXG4uaGVhZGVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xcbiAgd2lkdGg6IDEwMDBweDtcXG4gIGJvcmRlcjogYmxhY2sgc29saWQ7XFxuICBnYXA6IDUwMHB4O1xcbn1cXG4uY29udGFpbmVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGdhcDogNTBweDtcXG59XFxuXFxuLnBsYXllci1nYW1lYm9hcmQge1xcbiAgZGlzcGxheTogZ3JpZDtcXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEwLCA1MHB4KTtcXG59XFxuLmJveCB7XFxuICBib3JkZXItdG9wOiBibGFjayBzb2xpZDtcXG4gIGJvcmRlci1sZWZ0OiBibGFjayBzb2xpZDtcXG4gIHdpZHRoOiA1MHB4O1xcbiAgaGVpZ2h0OiA1MHB4O1xcbn1cXG5cXG4uYm94Om50aC1jaGlsZCgxMG4pIHtcXG4gIGJvcmRlci1yaWdodDogYmxhY2sgc29saWQ7XFxufVxcblxcbi5ib3g6bnRoLWNoaWxkKG4gKyA5MSkge1xcbiAgYm9yZGVyLWJvdHRvbTogYmxhY2sgc29saWQ7XFxufVxcblxcbi5wbGF5ZXIuYm94LnNoaXAge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XFxufVxcblxcbi5jb21wdXRlci1nYW1lYm9hcmQge1xcbiAgZGlzcGxheTogZ3JpZDtcXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEwLCA1MHB4KTtcXG59XFxuXFxuLmhpdCxcXG4ucGxheWVyLmJveC5zaGlwLmhpdCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XFxufVxcblxcbi5taXNzIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IGJsdWU7XFxufVxcblxcbi5jaGF0bG9nLWNvbnRhaW5lciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG4uY2hhdGxvZyB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1ncm93OiAwO1xcbiAgaGVpZ2h0OiAyMDBweDtcXG4gIG1pbi13aWR0aDogMjAwcHg7XFxuICBtYXJnaW4tdG9wOiAwcHg7XFxuICBib3JkZXI6IHNvbGlkIGJsYWNrO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG59XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdXBkYXRlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuICBjc3MgKz0gb2JqLmNzcztcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfVxuXG4gIC8vIEZvciBvbGQgSUVcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHt9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH1cbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsImltcG9ydCB7IGdldFBsYXllciB9IGZyb20gXCIuXCI7XG5cbmxldCBjb21wdXRlckF2YWlsYWJsZU1vdmVzID0gW107XG5cbmZ1bmN0aW9uIGdldENvbXB1dGVyQXZhaWxhYmxlTW92ZXMoKSB7XG4gIHJldHVybiBjb21wdXRlckF2YWlsYWJsZU1vdmVzO1xufVxuXG5mdW5jdGlvbiByZXNldENvbXB1dGVyTW92ZXMoKSB7XG4gIGNvbXB1dGVyQXZhaWxhYmxlTW92ZXMubGVuZ3RoID0gMDtcbn1cblxuZnVuY3Rpb24gc2V0Q29tcHV0ZXJBdmFpbGFibGVNb3Zlcyh4LCB5KSB7XG4gIGNvbXB1dGVyQXZhaWxhYmxlTW92ZXMucHVzaChbeCwgeV0pOyAvL1NpbXBsZSBsb2dpYyBmb3IgY29tcHV0ZXIuIEFycmF5IG9mIGFsbCAxMDAgYXZhaWxhYmxlIG1vdmVzXG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVyTW92ZSgpIHtcbiAgY29uc3QgbW92ZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNvbXB1dGVyQXZhaWxhYmxlTW92ZXMubGVuZ3RoKTtcbiAgY29uc3QgY29vcmRpbmF0ZXMgPSBjb21wdXRlckF2YWlsYWJsZU1vdmVzW21vdmVdO1xuICBjb21wdXRlckF2YWlsYWJsZU1vdmVzLnNwbGljZShtb3ZlLCAxKTtcbiAgZ2V0UGxheWVyKCkuZ2FtZWJvYXJkLnJlY2VpdmVBdHRhY2soY29vcmRpbmF0ZXNbMF0sIGNvb3JkaW5hdGVzWzFdKTtcbn1cblxuZXhwb3J0IHsgc2V0Q29tcHV0ZXJBdmFpbGFibGVNb3ZlcywgZ2V0Q29tcHV0ZXJBdmFpbGFibGVNb3ZlcywgY29tcHV0ZXJNb3ZlLCByZXNldENvbXB1dGVyTW92ZXMgfTtcbiIsImltcG9ydCB7IGRpc3BsYXlDaGF0IH0gZnJvbSBcIi4vaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBnZXRDdXJyZW50UGxheWVyLCB1cGRhdGVQbGF5ZXJJbmRleCwgZ2V0RW5lbXkgfSBmcm9tIFwiLlwiO1xuaW1wb3J0IHsgY29tcHV0ZXJNb3ZlIH0gZnJvbSBcIi4vY29tcHV0ZXJsb2dpY1wiO1xuXG5sZXQgZ3JpZDtcbmNvbnN0IGNvbXB1dGVyRGVsYXkgPSAxMDAwO1xuXG5jbGFzcyBHYW1lYm9hcmQge1xuICBjb25zdHJ1Y3RvcihuYW1lLCBncmlkKSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmdyaWQgPSBncmlkO1xuICB9XG5cbiAgZ2V0R3JpZCgpIHtcbiAgICByZXR1cm4gdGhpcy5ncmlkO1xuICB9XG5cbiAgc2V0R3JpZChjb29yZGluYXRlcywgbmFtZSkge1xuICAgIGNvb3JkaW5hdGVzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIGNvbnN0IHggPSBlbGVtZW50WzBdO1xuICAgICAgY29uc3QgeSA9IGVsZW1lbnRbMV07XG4gICAgICB0aGlzLmdyaWRbeF1beV0gPSBuYW1lO1xuICAgIH0pO1xuICB9XG5cbiAgLy9UYWtlcyBjb29yZGluYXRlcyBhbmQgY2hlY2tzIGdyaWQgdG8gc2VlIHNoaXAgd2FzIGhpdFxuICByZWNlaXZlQXR0YWNrKHgsIHkpIHtcbiAgICBpZiAodGhpcy5ncmlkW3hdW3ldICE9IDApIHtcbiAgICAgIC8vU2hpcCB3YXMgaGl0XG4gICAgICBjb25zdCBoaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHt0aGlzLm5hbWV9LSR7eH0tJHt5fWApO1xuICAgICAgaGl0LmNsYXNzTGlzdC5hZGQoXCJoaXRcIik7IC8vQWRkIGNsYXNzIGhpdCB0byB1cGRhdGUgYm94IGNvbG9yXG4gICAgICBkaXNwbGF5Q2hhdChcImhpdFwiLCB0aGlzLmdyaWRbeF1beV0pO1xuXG4gICAgICBjb25zdCBzaGlwSW5kZXggPSBnZXRFbmVteSgpLnNoaXBzLmZpbmRJbmRleCgobmFtZSkgPT4gbmFtZS5uYW1lID09PSB0aGlzLmdyaWRbeF1beV0pO1xuICAgICAgZ2V0RW5lbXkoKS5zaGlwc1tzaGlwSW5kZXhdLnJlbW92ZUhpdExvY2F0aW9uKFsreCwgK3ldKTsgLy9SZW1vdmUgdGhlIGhpdCBzcG90IGZyb20gdGhlIHNoaXBcblxuICAgICAgaWYgKGdldEN1cnJlbnRQbGF5ZXIoKS5uYW1lID09IFwiY29tcHV0ZXJcIikge1xuICAgICAgICBzZXRUaW1lb3V0KGNvbXB1dGVyTW92ZSwgY29tcHV0ZXJEZWxheSk7IC8vQWRkIGRlbGF5IGZvciBjb21wdXRlcidzIHR1cm5cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbWlzcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3RoaXMubmFtZX0tJHt4fS0ke3l9YCk7XG4gICAgICBtaXNzLmNsYXNzTGlzdC5hZGQoXCJtaXNzXCIpOyAvL0FkZCBjbGFzcyBtaXNzIHRvIHVwZGF0ZSBib3ggY29sb3JcbiAgICAgIGRpc3BsYXlDaGF0KFwibWlzc2VkXCIpO1xuICAgICAgdXBkYXRlUGxheWVySW5kZXgoKTsgLy9Td2l0Y2ggdHVyblxuICAgICAgaWYgKGdldEN1cnJlbnRQbGF5ZXIoKS5uYW1lID09IFwiY29tcHV0ZXJcIikge1xuICAgICAgICBzZXRUaW1lb3V0KGNvbXB1dGVyTW92ZSwgY29tcHV0ZXJEZWxheSk7IC8vQWRkIGRlbGF5IGZvciBjb21wdXRlcidzIHR1cm5cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUdhbWVib2FyZChwbGF5ZXIpIHtcbiAgY29uc3Qgd2lkdGggPSAxMDtcbiAgZ3JpZCA9IEFycmF5LmZyb20oQXJyYXkod2lkdGgpLCAoKSA9PiBuZXcgQXJyYXkod2lkdGgpLmZpbGwoMCkpO1xuICByZXR1cm4gbmV3IEdhbWVib2FyZChwbGF5ZXIsIGdyaWQpO1xufVxuXG5leHBvcnQgeyBjcmVhdGVHYW1lYm9hcmQgfTtcbiIsImltcG9ydCB7IGdldEN1cnJlbnRQbGF5ZXIsIGdldEVuZW15LCBzZXRJbmRleFRvUGxheWVyLCB1cGRhdGVTdGF0dXNXaW4sIHJlc3RhcnRHYW1lIH0gZnJvbSBcIi5cIjtcbmltcG9ydCB7IHNldENvbXB1dGVyQXZhaWxhYmxlTW92ZXMgfSBmcm9tIFwiLi9jb21wdXRlcmxvZ2ljXCI7XG5cbi8vQ3JlYXRlIHBsYXllciBhbmQgY29tcHV0ZXIgZ3JpZHNcbi8vQWRkIEV2ZW50IExpc3RlbmVycyB0byB0aGUgIGNvbXB1dGVyIGdyaWQgZm9yIHRoZSBwbGF5ZXIgdG8gY2xpY2sgb25cbmZ1bmN0aW9uIGRpc3BsYXlHYW1lYm9hcmRzKHBsYXllcikge1xuICBpZiAocGxheWVyLm5hbWUgIT0gXCJjb21wdXRlclwiKSB7XG4gICAgY29uc3QgcGxheWVyR2FtZWJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXItZ2FtZWJvYXJkXCIpO1xuICAgIHBsYXllci5nYW1lYm9hcmQuZ3JpZC5mb3JFYWNoKChhcnIsIGNvb3JkWCkgPT4ge1xuICAgICAgYXJyLmZvckVhY2goKGVsZW1lbnQsIGNvb3JkWSkgPT4ge1xuICAgICAgICBjb25zdCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBpZiAoZWxlbWVudCA9PSAwKSB7XG4gICAgICAgICAgYm94LmNsYXNzTGlzdC5hZGQoXCJwbGF5ZXJcIiwgXCJib3hcIiwgXCJ6ZXJvXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbGVtZW50ICE9IDApIHtcbiAgICAgICAgICBib3guY2xhc3NMaXN0LmFkZChcInBsYXllclwiLCBcImJveFwiLCBcInNoaXBcIik7XG4gICAgICAgIH1cbiAgICAgICAgYm94LmlkID0gYHBsYXllci0ke2Nvb3JkWH0tJHtjb29yZFl9YDtcbiAgICAgICAgcGxheWVyR2FtZWJvYXJkLmFwcGVuZChib3gpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgY29tcHV0ZXJHYW1lYm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbXB1dGVyLWdhbWVib2FyZFwiKTtcbiAgICBwbGF5ZXIuZ2FtZWJvYXJkLmdyaWQuZm9yRWFjaCgoYXJyLCBjb29yZFgpID0+IHtcbiAgICAgIGFyci5mb3JFYWNoKChlbGVtZW50LCBjb29yZFkpID0+IHtcbiAgICAgICAgY29uc3QgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgaWYgKGVsZW1lbnQgPT0gMCkge1xuICAgICAgICAgIGJveC5jbGFzc0xpc3QuYWRkKFwiY29tcHV0ZXJcIiwgXCJib3hcIiwgXCJ6ZXJvXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbGVtZW50ICE9IDApIHtcbiAgICAgICAgICBib3guY2xhc3NMaXN0LmFkZChcImNvbXB1dGVyXCIsIFwiYm94XCIsIFwic2hpcFwiKTtcbiAgICAgICAgfVxuICAgICAgICBib3guaWQgPSBgY29tcHV0ZXItJHtjb29yZFh9LSR7Y29vcmRZfWA7XG4gICAgICAgIHNldENvbXB1dGVyQXZhaWxhYmxlTW92ZXMoY29vcmRYLCBjb29yZFkpO1xuICAgICAgICBib3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHBsYXllckF0dGFjayk7XG4gICAgICAgIGNvbXB1dGVyR2FtZWJvYXJkLmFwcGVuZChib3gpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcGxheWVyQXR0YWNrKGUpIHtcbiAgLy9QcmV2ZW50cyBwbGF5ZXIgZnJvbSBhdHRhY2tpbmcgYWZ0ZXIgYSBkZWxheSB0byBjb21wdXRlcidzIHR1cm4gd2FzIGFkZGVkXG4gIGlmIChnZXRDdXJyZW50UGxheWVyKCkubmFtZSA9PSBcInBsYXllclwiKSB7XG4gICAgc2VuZEF0dGFjayhlKTtcbiAgICBlLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgcGxheWVyQXR0YWNrKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBkaXNwbGF5Q2hhdChzdGF0dXMsIHNoaXAgPSBcInNoaXBcIikge1xuICBjb25zdCBwbGF5ZXIgPSBnZXRDdXJyZW50UGxheWVyKCk7XG4gIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCk7XG4gIGNvbnN0IGNoYXRsb2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoYXQtbG9nLW1lc3NhZ2VcIik7XG4gIGNoYXRsb2cuaW5uZXJUZXh0ID0gYCR7dGltZXN0YW1wfTogJHtwbGF5ZXIubmFtZX0gJHtzdGF0dXN9IGVuZW15ICR7c2hpcH0hXFxuYCArIGNoYXRsb2cuaW5uZXJUZXh0O1xufVxuXG5mdW5jdGlvbiBzZW5kQXR0YWNrKGUpIHtcbiAgY29uc3QgY29vcmRpbmF0ZXMgPSBlLnRhcmdldC5pZC5zdWJzdHJpbmcoZS50YXJnZXQuaWQuaW5kZXhPZihcIi1cIikgKyAxKTtcbiAgY29uc3QgeCA9IGNvb3JkaW5hdGVzWzBdO1xuICBjb25zdCB5ID0gY29vcmRpbmF0ZXNbMl07IC8vU2tpcCAnLSdcbiAgZ2V0RW5lbXkoKS5nYW1lYm9hcmQucmVjZWl2ZUF0dGFjayh4LCB5KTtcbn1cblxuZnVuY3Rpb24gZ2FtZUVuZCgpIHtcbiAgdXBkYXRlU3RhdHVzV2luKCk7XG4gIGlmIChnZXRDdXJyZW50UGxheWVyKCkubmFtZSA9PSBcImNvbXB1dGVyXCIpIHtcbiAgICBzZXRJbmRleFRvUGxheWVyKCk7IC8vUHJldmVudCBjb21wdXRlciBsb2dpYyBmcm9tIGNvbnRpbnVpbmcgdG8gcnVuXG4gIH1cbiAgcmVtb3ZlRXZlbnRzKCk7IC8vUmVtb3ZlIGV2ZW50IGxpc3RlbmVycyBmcm9tIGNvbXB1dGVyJ3MgZ3JpZFxuXG4gIGNvbnN0IHN0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3RhdHVzXCIpO1xuICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICBjb25zdCBwYXJhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gIGJ0bi5jbGFzc05hbWUgPSBcImJ1dHRvblwiO1xuICBidG4uaW5uZXJUZXh0ID0gXCJSZXN0YXJ0IEdhbWVcIjtcbiAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgcmVzdGFydEdhbWUoKTtcbiAgfSk7XG4gIHBhcmEuYXBwZW5kKGJ0bik7XG4gIHN0YXR1cy5hcHBlbmQocGFyYSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50cygpIHtcbiAgY29uc3QgY29tcHV0ZXJHYW1lYm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbXB1dGVyLWdhbWVib2FyZFwiKTtcbiAgZm9yIChjb25zdCBjaGlsZCBvZiBjb21wdXRlckdhbWVib2FyZC5jaGlsZHJlbikge1xuICAgIGNoaWxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBwbGF5ZXJBdHRhY2spO1xuICB9XG59XG5cbmV4cG9ydCB7IGRpc3BsYXlHYW1lYm9hcmRzLCBkaXNwbGF5Q2hhdCwgZ2FtZUVuZCB9O1xuIiwiaW1wb3J0IHsgZ2FtZUVuZCB9IGZyb20gXCIuL2ludGVyZmFjZVwiO1xuaW1wb3J0IHsgZ2V0RW5lbXkgfSBmcm9tIFwiLlwiO1xuXG5jb25zdCBhbGxTaGlwcyA9IFtdO1xuY29uc3Qgd2lkdGggPSAxMDtcblxuY2xhc3MgU2hpcCB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIGxlbmd0aCwgaGl0cywgbG9jYXRpb24pIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgIHRoaXMuaGl0cyA9IGhpdHM7XG4gICAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICB9XG5cbiAgZ2V0TG9jYXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYXRpb247XG4gIH1cblxuICByZW1vdmVIaXRMb2NhdGlvbihjb29yZGluYXRlcykge1xuICAgIGNvbnN0IHNoaXBMb2NhdGlvbiA9IHRoaXMuZ2V0TG9jYXRpb24oKTtcbiAgICBsZXQgaWR4O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcExvY2F0aW9uLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoc2hpcExvY2F0aW9uW2ldWzBdID09IGNvb3JkaW5hdGVzWzBdICYmIHNoaXBMb2NhdGlvbltpXVsxXSA9PSBjb29yZGluYXRlc1sxXSkge1xuICAgICAgICAvL0ZpbmQgdGhlIGNvcnJlY3QgaW5kZXggb2YgdGhlIGhpdCBsb2NhdGlvbiBvZiB0aGUgc2hpcFxuICAgICAgICBpZHggPSBpO1xuICAgICAgfVxuICAgIH1cbiAgICBzaGlwTG9jYXRpb24uc3BsaWNlKGlkeCwgMSk7XG4gICAgdGhpcy5oaXQoKTtcbiAgICB0aGlzLmlzU3VuaygpO1xuICB9XG4gIGhpdCgpIHtcbiAgICB0aGlzLmhpdHMgKz0gMTtcbiAgfVxuXG4gIGlzU3VuaygpIHtcbiAgICBpZiAodGhpcy5oaXRzID09IHRoaXMubGVuZ3RoKSB7XG4gICAgICBnZXRFbmVteSgpLnRvdGFsU2hpcHMgLT0gMTtcbiAgICAgIGlmIChnZXRFbmVteSgpLnRvdGFsU2hpcHMgPT0gMCkge1xuICAgICAgICAvL0FsbCBzaGlwcyBhcmUgc3Vuay4gRW5kIHRoZSBnYW1lXG4gICAgICAgIGdhbWVFbmQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0U2hpcHMoZ2FtZWJvYXJkKSB7XG4gIGxldCBzaGlwcyA9IFtdO1xuICBzaGlwcy5wdXNoKGNyZWF0ZVNoaXBzKFwiQ2FycmllclwiLCA1LCBnYW1lYm9hcmQpKTtcbiAgc2hpcHMucHVzaChjcmVhdGVTaGlwcyhcIkJhdHRsZXNoaXBcIiwgNCwgZ2FtZWJvYXJkKSk7XG4gIHNoaXBzLnB1c2goY3JlYXRlU2hpcHMoXCJEZXN0cm95ZXJcIiwgMywgZ2FtZWJvYXJkKSk7XG4gIHNoaXBzLnB1c2goY3JlYXRlU2hpcHMoXCJTdWJtYXJpbmVcIiwgMywgZ2FtZWJvYXJkKSk7XG4gIHNoaXBzLnB1c2goY3JlYXRlU2hpcHMoXCJQYXRyb2wgQm9hdFwiLCAyLCBnYW1lYm9hcmQpKTtcbiAgcmV0dXJuIHNoaXBzO1xufVxuXG5mdW5jdGlvbiBwbGFjZVNoaXAobmFtZSwgbGVuZ3RoLCBnYW1lYm9hcmQpIHtcbiAgY29uc3QgbG9jYXRpb24gPSBbXTtcbiAgLy9EaXJlY3Rpb25zIC0gMCBpcyBSaWdodCwgMSBpcyBEb3duLCAyIGlzIExlZnQsIDMgaXMgVXBcbiAgY29uc3QgZGlyZWN0aW9ucyA9IHsgMDogWzEsIDBdLCAxOiBbMCwgMV0sIDI6IFstMSwgMF0sIDM6IFswLCAtMV0gfTtcbiAgbGV0IGdyaWQgPSBnYW1lYm9hcmQuZ2V0R3JpZCgpO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIGxldCB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogd2lkdGgpO1xuICAgIGxldCB5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogd2lkdGgpO1xuICAgIGxldCBkaXJlY3Rpb24gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0KTtcbiAgICBpZiAoZ3JpZFt4XVt5XSA9PSAwKSB7XG4gICAgICBsb2NhdGlvbi5wdXNoKFt4LCB5XSk7XG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBsZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgeCArPSBkaXJlY3Rpb25zW2RpcmVjdGlvbl1bMF07XG4gICAgICAgIHkgKz0gZGlyZWN0aW9uc1tkaXJlY3Rpb25dWzFdO1xuICAgICAgICBsb2NhdGlvbi5wdXNoKFt4LCB5XSk7XG4gICAgICAgIGlmICh4IDwgMCB8fCB5IDwgMCB8fCB4ID4gOSB8fCB5ID4gOSB8fCBncmlkW3hdW3ldICE9IDApIHtcbiAgICAgICAgICAvL1NoaXAgaXMgb3V0IG9mIGJvdW5kcyBvciBpdCByYW4gaW50byBhbm90aGVyIHNoaXAuIFNldCBsb2NhdGlvbi5sZW5ndGggdG8gMCBhbmQgYnJlYWtcbiAgICAgICAgICBsb2NhdGlvbi5sZW5ndGggPSAwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG9jYXRpb24ubGVuZ3RoICE9IDApIHtcbiAgICAgICAgLy9UaGUgc2hpcCBmaXRzIGluIHRoZSBncmlkIGFuZCBjYW4gYmUgYWRkZWRcbiAgICAgICAgZ2FtZWJvYXJkLnNldEdyaWQobG9jYXRpb24sIG5hbWUpO1xuICAgICAgICByZXR1cm4gbG9jYXRpb247XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVNoaXBzKG5hbWUsIGxlbmd0aCwgZ2FtZWJvYXJkKSB7XG4gIGNvbnN0IGxvY2F0aW9uID0gcGxhY2VTaGlwKG5hbWUsIGxlbmd0aCwgZ2FtZWJvYXJkKTtcbiAgY29uc3Qgc2hpcCA9IG5ldyBTaGlwKG5hbWUsIGxlbmd0aCwgMCwgbG9jYXRpb24pO1xuICByZXR1cm4gc2hpcDtcbn1cblxuZnVuY3Rpb24gZ2V0U2hpcHMoKSB7XG4gIHJldHVybiBhbGxTaGlwcztcbn1cblxuZXhwb3J0IHsgY3JlYXRlU2hpcHMsIHNldFNoaXBzLCBnZXRTaGlwcywgcGxhY2VTaGlwIH07XG4iLCJjbGFzcyBQbGF5ZXIge1xuICBjb25zdHJ1Y3RvcihuYW1lLCBnYW1lYm9hcmQsIHNoaXBzLCB0b3RhbFNoaXBzKSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmdhbWVib2FyZCA9IGdhbWVib2FyZDtcbiAgICB0aGlzLnNoaXBzID0gc2hpcHM7XG4gICAgdGhpcy50b3RhbFNoaXBzID0gdG90YWxTaGlwcztcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVQbGF5ZXIobmFtZSwgZ2FtZWJvYXJkLCBzaGlwcykge1xuICByZXR1cm4gbmV3IFBsYXllcihuYW1lLCBnYW1lYm9hcmQsIHNoaXBzLCA1KTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlUGxheWVyIH07XG4iLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJpbXBvcnQgeyBjcmVhdGVHYW1lYm9hcmQgfSBmcm9tIFwiLi9nYW1lYm9hcmRcIjtcbmltcG9ydCB7IHNldFNoaXBzIH0gZnJvbSBcIi4vc2hpcFwiO1xuaW1wb3J0IHsgY3JlYXRlUGxheWVyIH0gZnJvbSBcIi4vcGxheWVyXCI7XG5pbXBvcnQgeyBkaXNwbGF5R2FtZWJvYXJkcyB9IGZyb20gXCIuL2ludGVyZmFjZVwiO1xuaW1wb3J0IHsgcmVzZXRDb21wdXRlck1vdmVzIH0gZnJvbSBcIi4vY29tcHV0ZXJsb2dpY1wiO1xuaW1wb3J0IFwiLi9zdHlsZS5jc3NcIjtcblxubGV0IGN1cnJQbGF5ZXJJbmRleCA9IDA7XG5sZXQgcGxheWVycyA9IFtdO1xuY29uc3Qgc3RhdHVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdGF0dXNcIik7XG5jb25zdCBidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvblwiKTtcbmJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBzdGFydEdhbWUoKTtcbn0pO1xuXG5mdW5jdGlvbiBzdGFydEdhbWUoKSB7XG4gIGNvbnN0IHBsYXllckdhbWVib2FyZCA9IGNyZWF0ZUdhbWVib2FyZChcInBsYXllclwiKTtcbiAgY29uc3QgY29tcHV0ZXJHYW1lYm9hcmQgPSBjcmVhdGVHYW1lYm9hcmQoXCJjb21wdXRlclwiKTtcbiAgY29uc3QgcGxheWVyU2hpcHMgPSBzZXRTaGlwcyhwbGF5ZXJHYW1lYm9hcmQpO1xuICBjb25zdCBjb21wdXRlclNoaXBzID0gc2V0U2hpcHMoY29tcHV0ZXJHYW1lYm9hcmQpO1xuICBjb25zdCBwbGF5ZXIgPSBjcmVhdGVQbGF5ZXIoXCJwbGF5ZXJcIiwgcGxheWVyR2FtZWJvYXJkLCBwbGF5ZXJTaGlwcyk7XG4gIGNvbnN0IGNvbXB1dGVyID0gY3JlYXRlUGxheWVyKFwiY29tcHV0ZXJcIiwgY29tcHV0ZXJHYW1lYm9hcmQsIGNvbXB1dGVyU2hpcHMpO1xuICBkaXNwbGF5R2FtZWJvYXJkcyhwbGF5ZXIpO1xuICBkaXNwbGF5R2FtZWJvYXJkcyhjb21wdXRlcik7XG4gIHBsYXllcnMgPSBbcGxheWVyLCBjb21wdXRlcl07XG4gIHVwZGF0ZVN0YXR1c1R1cm4oKTtcbn1cblxuZnVuY3Rpb24gcmVzdGFydEdhbWUoKSB7XG4gIGN1cnJQbGF5ZXJJbmRleCA9IDA7XG4gIGNvbnN0IHJlc2V0UGxheWVyR2FtZWJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXItZ2FtZWJvYXJkXCIpO1xuICBjb25zdCByZXNldENvbXB1dGVyR2FtZWJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb21wdXRlci1nYW1lYm9hcmRcIik7XG4gIHJlc2V0UGxheWVyR2FtZWJvYXJkLmlubmVySFRNTCA9IFwiXCI7XG4gIHJlc2V0Q29tcHV0ZXJHYW1lYm9hcmQuaW5uZXJIVE1MID0gXCJcIjtcblxuICBjb25zdCByZXNldENoYXRsb2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoYXQtbG9nLW1lc3NhZ2VcIik7XG4gIHJlc2V0Q2hhdGxvZy5pbm5lckhUTUwgPSBcIlwiO1xuXG4gIHJlc2V0Q29tcHV0ZXJNb3ZlcygpO1xuICBzdGFydEdhbWUoKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlUGxheWVySW5kZXgoKSB7XG4gIGN1cnJQbGF5ZXJJbmRleCA9PSAwID8gKGN1cnJQbGF5ZXJJbmRleCA9IDEpIDogKGN1cnJQbGF5ZXJJbmRleCA9IDApO1xuICB1cGRhdGVTdGF0dXNUdXJuKCk7XG59XG5cbmZ1bmN0aW9uIHNldEluZGV4VG9QbGF5ZXIoKSB7XG4gIGN1cnJQbGF5ZXJJbmRleCA9IDA7XG59XG5cbmZ1bmN0aW9uIGdldEN1cnJlbnRQbGF5ZXIoKSB7XG4gIHJldHVybiBwbGF5ZXJzW2N1cnJQbGF5ZXJJbmRleF07XG59XG5cbmZ1bmN0aW9uIGdldEVuZW15KCkge1xuICBpZiAoY3VyclBsYXllckluZGV4ID09IDApIHtcbiAgICByZXR1cm4gcGxheWVyc1sxXTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcGxheWVyc1swXTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVTdGF0dXNUdXJuKCkge1xuICBsZXQgY3VyclBsYXllciA9IGdldEN1cnJlbnRQbGF5ZXIoKS5uYW1lO1xuICBjdXJyUGxheWVyID0gY3VyclBsYXllci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGN1cnJQbGF5ZXIuc2xpY2UoMSk7XG4gIHN0YXR1cy5pbm5lckhUTUwgPSBgJHtjdXJyUGxheWVyfSdzIHR1cm5gO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVTdGF0dXNXaW4oKSB7XG4gIGxldCBjdXJyUGxheWVyID0gZ2V0Q3VycmVudFBsYXllcigpLm5hbWU7XG4gIGN1cnJQbGF5ZXIgPSBjdXJyUGxheWVyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgY3VyclBsYXllci5zbGljZSgxKTtcbiAgY29uc29sZS5sb2coY3VyclBsYXllcik7XG4gIHN0YXR1cy5pbm5lckhUTUwgPSBgJHtjdXJyUGxheWVyfSBXb24hYDtcbn1cblxuZnVuY3Rpb24gZ2V0UGxheWVyKCkge1xuICByZXR1cm4gcGxheWVyc1swXTtcbn1cblxuZXhwb3J0IHsgdXBkYXRlUGxheWVySW5kZXgsIGdldEN1cnJlbnRQbGF5ZXIsIGdldFBsYXllciwgZ2V0RW5lbXksIHJlc3RhcnRHYW1lLCB1cGRhdGVTdGF0dXNXaW4sIHNldEluZGV4VG9QbGF5ZXIgfTtcbiJdLCJuYW1lcyI6WyJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsInB1c2giLCJtb2R1bGUiLCJpZCIsImV4cG9ydHMiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibGlzdCIsInRvU3RyaW5nIiwidGhpcyIsIm1hcCIsIml0ZW0iLCJjb250ZW50IiwibmVlZExheWVyIiwiY29uY2F0IiwibGVuZ3RoIiwiam9pbiIsImkiLCJtb2R1bGVzIiwibWVkaWEiLCJkZWR1cGUiLCJzdXBwb3J0cyIsImxheWVyIiwidW5kZWZpbmVkIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImsiLCJfayIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJzdHlsZXNJbkRPTSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleEJ5SWRlbnRpZmllciIsIm9iaiIsImNzcyIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkRWxlbWVudFN0eWxlIiwiYnlJbmRleCIsInNwbGljZSIsImFwaSIsImRvbUFQSSIsInVwZGF0ZSIsIm5ld09iaiIsInJlbW92ZSIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJpbmRleCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4IiwibWVtbyIsImluc2VydCIsInN0eWxlIiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwiZ2V0VGFyZ2V0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJzdHlsZUVsZW1lbnQiLCJub25jZSIsInNldEF0dHJpYnV0ZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlVGFnVHJhbnNmb3JtIiwiYXBwbHkiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImZpcnN0Q2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwibmMiLCJncmlkIiwiY29tcHV0ZXJBdmFpbGFibGVNb3ZlcyIsImNvbXB1dGVyTW92ZSIsIm1vdmUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJjb29yZGluYXRlcyIsImdldFBsYXllciIsImdhbWVib2FyZCIsInJlY2VpdmVBdHRhY2siLCJkaXNwbGF5R2FtZWJvYXJkcyIsInBsYXllciIsIm5hbWUiLCJwbGF5ZXJHYW1lYm9hcmQiLCJmb3JFYWNoIiwiYXJyIiwiY29vcmRYIiwiY29vcmRZIiwiYm94IiwiY2xhc3NMaXN0IiwiYWRkIiwiYXBwZW5kIiwiY29tcHV0ZXJHYW1lYm9hcmQiLCJ4IiwieSIsImFkZEV2ZW50TGlzdGVuZXIiLCJwbGF5ZXJBdHRhY2siLCJnZXRDdXJyZW50UGxheWVyIiwic3Vic3RyaW5nIiwiaW5kZXhPZiIsImdldEVuZW15Iiwic2VuZEF0dGFjayIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkaXNwbGF5Q2hhdCIsInN0YXR1cyIsInNoaXAiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiY2hhdGxvZyIsImlubmVyVGV4dCIsIkdhbWVib2FyZCIsImNvbnN0cnVjdG9yIiwiZ2V0R3JpZCIsInNldEdyaWQiLCJnZXRFbGVtZW50QnlJZCIsInNoaXBJbmRleCIsInNoaXBzIiwiZmluZEluZGV4IiwicmVtb3ZlSGl0TG9jYXRpb24iLCJzZXRUaW1lb3V0IiwidXBkYXRlUGxheWVySW5kZXgiLCJjcmVhdGVHYW1lYm9hcmQiLCJBcnJheSIsImZyb20iLCJmaWxsIiwid2lkdGgiLCJTaGlwIiwiaGl0cyIsImxvY2F0aW9uIiwiZ2V0TG9jYXRpb24iLCJzaGlwTG9jYXRpb24iLCJpZHgiLCJoaXQiLCJpc1N1bmsiLCJ0b3RhbFNoaXBzIiwidXBkYXRlU3RhdHVzV2luIiwic2V0SW5kZXhUb1BsYXllciIsImNoaWxkIiwiY2hpbGRyZW4iLCJyZW1vdmVFdmVudHMiLCJidG4iLCJwYXJhIiwiY2xhc3NOYW1lIiwicmVzdGFydEdhbWUiLCJnYW1lRW5kIiwic2V0U2hpcHMiLCJjcmVhdGVTaGlwcyIsImRpcmVjdGlvbnMiLCJkaXJlY3Rpb24iLCJwbGFjZVNoaXAiLCJQbGF5ZXIiLCJjcmVhdGVQbGF5ZXIiLCJsb2NhbHMiLCJjdXJyUGxheWVySW5kZXgiLCJwbGF5ZXJzIiwic3RhcnRHYW1lIiwicGxheWVyU2hpcHMiLCJjb21wdXRlclNoaXBzIiwiY29tcHV0ZXIiLCJ1cGRhdGVTdGF0dXNUdXJuIiwicmVzZXRQbGF5ZXJHYW1lYm9hcmQiLCJyZXNldENvbXB1dGVyR2FtZWJvYXJkIiwiaW5uZXJIVE1MIiwiY3VyclBsYXllciIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIifQ==